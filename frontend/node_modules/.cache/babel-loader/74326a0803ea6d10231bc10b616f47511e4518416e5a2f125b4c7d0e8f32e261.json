{"ast":null,"code":"import React,{useEffect,useState}from'react';import Gift from'./Gift';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[coupon,setCoupon]=useState(null);useEffect(()=>{fetch('/api/coupon').then(res=>res.json()).then(data=>setCoupon(data.coupon)).catch(()=>setCoupon(null));},[]);const unlockCoupon=()=>{fetch('/api/unlock',{method:'POST'}).then(res=>res.json()).then(data=>setCoupon(data.coupon)).catch(console.error);};return/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:coupon?coupon.unlocked?/*#__PURE__*/_jsxs(\"div\",{className:\"coupon\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"\\xA1Has desbloqueado un cup\\xF3n de amistad!\"}),/*#__PURE__*/_jsxs(\"h2\",{children:[coupon.text,\" \\uD83D\\uDE0A\"]})]}):/*#__PURE__*/_jsx(Gift,{onClick:unlockCoupon}):/*#__PURE__*/_jsx(\"p\",{children:\"No hay cup\\xF3n disponible hoy.\"})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Gift","jsx","_jsx","jsxs","_jsxs","App","coupon","setCoupon","fetch","then","res","json","data","catch","unlockCoupon","method","console","error","className","children","unlocked","text","onClick"],"sources":["C:/Users/tofol/Documents/cuponesGargamel/frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Gift from './Gift';\r\nimport './App.css';\r\n\r\nfunction App() {\r\n    const [coupon, setCoupon] = useState(null);\r\n\r\n    useEffect(() => {\r\n        fetch('/api/coupon')\r\n            .then((res) => res.json())\r\n            .then((data) => setCoupon(data.coupon))\r\n            .catch(() => setCoupon(null));\r\n    }, []);\r\n\r\n    const unlockCoupon = () => {\r\n        fetch('/api/unlock', { method: 'POST' })\r\n            .then((res) => res.json())\r\n            .then((data) => setCoupon(data.coupon))\r\n            .catch(console.error);\r\n    };\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            {coupon ? (\r\n                coupon.unlocked ? (\r\n                    <div className=\"coupon\">\r\n                        <h1>Â¡Has desbloqueado un cupÃ³n de amistad!</h1>\r\n                        <h2>{coupon.text} ðŸ˜Š</h2>\r\n                    </div>\r\n                ) : (\r\n                    <Gift onClick={unlockCoupon} />\r\n                    \r\n                )\r\n            ) : (\r\n                <p>No hay cupÃ³n disponible hoy.</p>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,CAAAC,IAAI,KAAM,QAAQ,CACzB,MAAO,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEnB,QAAS,CAAAC,GAAGA,CAAA,CAAG,CACX,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGR,QAAQ,CAAC,IAAI,CAAC,CAE1CD,SAAS,CAAC,IAAM,CACZU,KAAK,CAAC,aAAa,CAAC,CACfC,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,EAAKL,SAAS,CAACK,IAAI,CAACN,MAAM,CAAC,CAAC,CACtCO,KAAK,CAAC,IAAMN,SAAS,CAAC,IAAI,CAAC,CAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAO,YAAY,CAAGA,CAAA,GAAM,CACvBN,KAAK,CAAC,aAAa,CAAE,CAAEO,MAAM,CAAE,MAAO,CAAC,CAAC,CACnCN,IAAI,CAAEC,GAAG,EAAKA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACzBF,IAAI,CAAEG,IAAI,EAAKL,SAAS,CAACK,IAAI,CAACN,MAAM,CAAC,CAAC,CACtCO,KAAK,CAACG,OAAO,CAACC,KAAK,CAAC,CAC7B,CAAC,CAED,mBACIf,IAAA,QAAKgB,SAAS,CAAC,KAAK,CAAAC,QAAA,CACfb,MAAM,CACHA,MAAM,CAACc,QAAQ,cACXhB,KAAA,QAAKc,SAAS,CAAC,QAAQ,CAAAC,QAAA,eACnBjB,IAAA,OAAAiB,QAAA,CAAI,8CAAsC,CAAI,CAAC,cAC/Cf,KAAA,OAAAe,QAAA,EAAKb,MAAM,CAACe,IAAI,CAAC,eAAG,EAAI,CAAC,EACxB,CAAC,cAENnB,IAAA,CAACF,IAAI,EAACsB,OAAO,CAAER,YAAa,CAAE,CAEjC,cAEDZ,IAAA,MAAAiB,QAAA,CAAG,iCAA4B,CAAG,CACrC,CACA,CAAC,CAEd,CAEA,cAAe,CAAAd,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}